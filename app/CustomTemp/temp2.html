<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <table id="example" class="display">
        <thead>
            <tr>
                <th></th>
                <th>Name</th>
                <th>Position</th>
                <th>Office</th>
                <th>Salary</th>
            </tr>
        </thead>
        <tfoot>
            <tr>
                <th></th>
                <th>Name</th>
                <th>Position</th>
                <th>Office</th>
                <th>Salary</th>
            </tr>
        </tfoot>
    </table>
<link rel="stylesheet" href="https://cdn.datatables.net/2.3.4/css/dataTables.dataTables.css">
<script src="https://code.jquery.com/jquery-3.7.1.js"> </script>
<script src="https://cdn.datatables.net/2.3.4/js/dataTables.js"> </script>
<script>

  // Formatting function for row details - modify as you need
function format(d) {
    // `d` is the original data object for the row
    return (
        '<dl>' +
        '<dt>Full name:</dt>' +
        '<dd>' +
        d.name +
        '</dd>' +
        '<dt>Extension number:</dt>' +
        '<dd>' +
        d.extn +
        '</dd>' +
        '<dt>Extra info:</dt>' +
        '<dd>And any further details here (images etc)...</dd>' +
        '</dl>'
    );
}
 
let table = new DataTable('#example', {
    ajax: '../ajax/data/objects.txt',
    columns: [
        {
            className: 'dt-control',
            orderable: false,
            data: null,
            defaultContent: ''
        },
        { data: 'name' },
        { data: 'position' },
        { data: 'office' },
        { data: 'salary' }
    ],
    order: [[1, 'asc']]
});
 
// Add event listener for opening and closing details
table.on('click', 'tbody td.dt-control', function (e) {
    let tr = e.target.closest('tr');
    let row = table.row(tr);
 
    if (row.child.isShown()) {
        // This row is already open - close it
        row.child.hide();
    }
    else {
        // Open this row
        row.child(format(row.data())).show();
    }
});  

</script>

</body>
</html>

<tbody>
        <?php foreach ($guest_entry_logs as $guest_entry_log): ?>
        <tr>            
            <td>
                <a href="<?= site_url('/dashboard/' . $guest_entry_log["id"]) ?>">
                    <?= esc($guest_entry_log["fname"]) ?>
                </a>
            </td>
            <td>
                <a href="<?= site_url('/dashboard/' . $guest_entry_log["id"]) ?>">
                    <?= esc($guest_entry_log["sname"]) ?>
                </a>
            </td>
            <td><?= esc($guest_entry_log["guest_company"]) ?></td>
            <td><?= esc($guest_entry_log["guest_count"]) ?></td>
            <td><?= esc($guest_entry_log["guardian"]) ?></td>
            <td><?= esc($guest_entry_log["purpose"]) ?></td>
            <td><?= esc($guest_entry_log["zone"]) ?></td>
            <td><?= esc($guest_entry_log["entry_date"]) ?></td>
            <td><?= esc($guest_entry_log["confirmation_date"]) ?></td>
            <td><?= esc($guest_entry_log["exit_date"]) ?></td>
            <td><?= esc($guest_entry_log["permanent"]) ?></td>
            <td><?= esc($guest_entry_log["consent"]) ?></td>
            <td>
                <a>cofnij</a>
            </td>
            <td><?= esc($guest_entry_log["comment"]) ?></td>
            <td>
                <a>View</a>
            </td>
        </tr>
        <?php endforeach; ?>
    </tbody>